import { proxy } from 'valtio';
import { AccountController } from './AccountController';
import { RouterController } from './RouterController';
import { PublicStateController } from './PublicStateController';

// -- Types --------------------------------------------- //

// -- State --------------------------------------------- //
const state = proxy({
  open: false
});

// -- Controller ---------------------------------------- //
export const ModalController = {
  state,
  open(options) {
    if (options?.view) {
      RouterController.reset(options.view);
    } else if (AccountController.state.isConnected) {
      RouterController.reset('Account');
    } else {
      RouterController.reset('Connect');
    }
    state.open = true;
    PublicStateController.set({
      open: true
    });
  },
  close() {
    state.open = false;
    PublicStateController.set({
      open: false
    });
  }
};
//# sourceMappingURL=ModalController.js.map