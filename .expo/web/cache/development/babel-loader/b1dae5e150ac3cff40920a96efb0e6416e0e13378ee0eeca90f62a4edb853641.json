{"ast":null,"code":"import React from 'react';\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Image } from 'expo-image';\nimport Text from \"../../components/Text\";\nimport Button from \"../../components/Button\";\nimport SignInScreen from \"../sign-in/SignInScreen\";\nimport { theme } from \"../../lib/theme\";\nimport { SessionType, useLogout, useSession } from \"../../lib/lens-sdk\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ProfileScreen() {\n  var _profile$metadata, _profile$metadata$cov, _profile$metadata$cov2, _profile$metadata2, _profile$metadata2$pi, _profile$metadata2$pi2, _profile$metadata3, _profile$handle;\n  var _useSession = useSession(),\n    session = _useSession.data;\n  var _useLogout = useLogout(),\n    logout = _useLogout.execute,\n    logoutLoading = _useLogout.loading;\n  if (!(session != null && session.authenticated)) {\n    return null;\n  }\n  if ((session == null ? void 0 : session.type) !== SessionType.WithProfile) {\n    return _jsx(SignInScreen, {});\n  }\n  var profile = session.profile;\n  var coverImageUri = (_profile$metadata = profile.metadata) == null ? void 0 : (_profile$metadata$cov = _profile$metadata.coverPicture) == null ? void 0 : (_profile$metadata$cov2 = _profile$metadata$cov.optimized) == null ? void 0 : _profile$metadata$cov2.uri;\n  var avatarImageUri = (_profile$metadata2 = profile.metadata) == null ? void 0 : (_profile$metadata2$pi = _profile$metadata2.picture) == null ? void 0 : (_profile$metadata2$pi2 = _profile$metadata2$pi.thumbnail) == null ? void 0 : _profile$metadata2$pi2.uri;\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(ImageBackground, {\n      accessibilityIgnoresInvertColors: true,\n      style: styles.coverImage,\n      source: {\n        uri: coverImageUri\n      },\n      children: [_jsx(View, {\n        style: styles.overlay\n      }), _jsx(Image, {\n        accessibilityIgnoresInvertColors: true,\n        style: styles.avatarImage,\n        source: {\n          uri: avatarImageUri\n        }\n      }), _jsxs(View, {\n        style: styles.nameContainer,\n        children: [_jsx(Text, {\n          style: styles.name,\n          children: (_profile$metadata3 = profile.metadata) == null ? void 0 : _profile$metadata3.displayName\n        }), _jsxs(Text, {\n          style: styles.handle,\n          children: [\"@\", (_profile$handle = profile.handle) == null ? void 0 : _profile$handle.localName]\n        })]\n      }), _jsxs(View, {\n        style: styles.statsContainer,\n        children: [_jsxs(View, {\n          style: styles.statsItem,\n          children: [_jsx(Text, {\n            children: \"Following\"\n          }), _jsx(Text, {\n            children: profile.stats.following\n          })]\n        }), _jsxs(View, {\n          style: styles.statsItem,\n          children: [_jsx(Text, {\n            children: \"Followers\"\n          }), _jsx(Text, {\n            children: profile.stats.followers\n          })]\n        })]\n      })]\n    }), _jsx(View, {\n      style: styles.body,\n      children: _jsx(Button, {\n        title: \"Logout\",\n        color: \"danger\",\n        loading: logoutLoading,\n        onPress: logout\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    marginTop: 20\n  },\n  coverImage: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 10,\n    height: 300,\n    width: '100%',\n    backgroundColor: theme.colors.disabled\n  },\n  overlay: {\n    position: 'absolute',\n    height: 300,\n    width: '100%',\n    backgroundColor: theme.colors.overlay\n  },\n  avatarImage: {\n    height: 100,\n    width: 100,\n    borderRadius: 30,\n    borderCurve: 'continuous'\n  },\n  nameContainer: {\n    gap: 4\n  },\n  name: {\n    textAlign: 'center',\n    fontWeight: 'bold'\n  },\n  handle: {\n    textAlign: 'center'\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    gap: 8,\n    alignItems: 'center'\n  },\n  statsItem: {\n    flexDirection: 'row',\n    gap: 4,\n    alignItems: 'center'\n  },\n  body: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"names":["React","ImageBackground","StyleSheet","View","Image","Text","Button","SignInScreen","theme","SessionType","useLogout","useSession","jsx","_jsx","jsxs","_jsxs","ProfileScreen","_profile$metadata","_profile$metadata$cov","_profile$metadata$cov2","_profile$metadata2","_profile$metadata2$pi","_profile$metadata2$pi2","_profile$metadata3","_profile$handle","_useSession","session","data","_useLogout","logout","execute","logoutLoading","loading","authenticated","type","WithProfile","profile","coverImageUri","metadata","coverPicture","optimized","uri","avatarImageUri","picture","thumbnail","style","styles","container","children","accessibilityIgnoresInvertColors","coverImage","source","overlay","avatarImage","nameContainer","name","displayName","handle","localName","statsContainer","statsItem","stats","following","followers","body","title","color","onPress","create","flex","alignItems","marginTop","justifyContent","gap","height","width","backgroundColor","colors","disabled","position","borderRadius","borderCurve","textAlign","fontWeight","flexDirection"],"sources":["/home/shounak/Desktop/Letsgo/new/web3-cross-platform-lens/src/features/profile/ProfileScreen.tsx"],"sourcesContent":["import React from 'react';\nimport { ImageBackground, StyleSheet, View } from 'react-native';\nimport { Image } from 'expo-image';\nimport Text from '../../components/Text';\nimport Button from '../../components/Button';\nimport SignInScreen from '../sign-in/SignInScreen';\nimport { theme } from '../../lib/theme';\nimport {\n  ProfilePictureSet,\n  SessionType,\n  useLogout,\n  useSession,\n} from '../../lib/lens-sdk';\n\nexport default function ProfileScreen() {\n  // Get the session\n  const { data: session } = useSession();\n\n  // Get the logout handler\n  const { execute: logout, loading: logoutLoading } = useLogout();\n\n  if (!session?.authenticated) {\n    return null;\n  }\n\n  if (session?.type !== SessionType.WithProfile) {\n    return <SignInScreen />;\n  }\n\n  // Get the cover and avatar images\n  const profile = session.profile;\n  const coverImageUri = profile.metadata?.coverPicture?.optimized?.uri;\n  const avatarImageUri = (profile.metadata?.picture as ProfilePictureSet)\n    ?.thumbnail?.uri;\n\n  return (\n    <View style={styles.container}>\n      {/* Display the cover image in the background */}\n      <ImageBackground\n        accessibilityIgnoresInvertColors\n        style={styles.coverImage}\n        source={{ uri: coverImageUri }}>\n        <View style={styles.overlay} />\n\n        {/* Display the avatar image in the middle */}\n        <Image\n          accessibilityIgnoresInvertColors\n          style={styles.avatarImage}\n          source={{ uri: avatarImageUri }}\n        />\n\n        {/* Display the name and handle */}\n        <View style={styles.nameContainer}>\n          <Text style={styles.name}>{profile.metadata?.displayName}</Text>\n          <Text style={styles.handle}>@{profile.handle?.localName}</Text>\n        </View>\n\n        {/* Display following and followers count */}\n        <View style={styles.statsContainer}>\n          <View style={styles.statsItem}>\n            <Text>Following</Text>\n            <Text>{profile.stats.following}</Text>\n          </View>\n          <View style={styles.statsItem}>\n            <Text>Followers</Text>\n            <Text>{profile.stats.followers}</Text>\n          </View>\n        </View>\n      </ImageBackground>\n\n      {/* Display a button to logout */}\n      <View style={styles.body}>\n        <Button\n          title=\"Logout\"\n          color=\"danger\"\n          loading={logoutLoading}\n          onPress={logout}\n        />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    marginTop: 20,\n  },\n  coverImage: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 10,\n    height: 300,\n    width: '100%',\n    backgroundColor: theme.colors.disabled,\n  },\n  overlay: {\n    position: 'absolute',\n    height: 300,\n    width: '100%',\n    backgroundColor: theme.colors.overlay,\n  },\n  avatarImage: {\n    height: 100,\n    width: 100,\n    borderRadius: 30,\n    borderCurve: 'continuous',\n  },\n  nameContainer: {\n    gap: 4,\n  },\n  name: {\n    textAlign: 'center',\n    fontWeight: 'bold',\n  },\n  handle: {\n    textAlign: 'center',\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    gap: 8,\n    alignItems: 'center',\n  },\n  statsItem: {\n    flexDirection: 'row',\n    gap: 4,\n    alignItems: 'center',\n  },\n  body: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}